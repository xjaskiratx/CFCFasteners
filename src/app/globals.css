@import "tailwindcss";

@theme {
  --color-primary: #8B0000;
  --color-primary-dark: #660000;
  --color-primary-light: #B22222;
  --color-secondary: #ffb800;

  --font-sans: var(--font-geist-sans), Arial, Helvetica, sans-serif;
  --font-mono: var(--font-geist-mono), ui-monospace, SFMono-Regular, Tahoma;
}

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  transition: background-color 0.3s ease;
}

/* 
  When a product card is hovered inside a grid, 
  dim the OTHER cards in that specific grid only. 
*/
.product-grid:has(.product-card:hover) .product-card:not(:hover) {
  opacity: 1;
  /* Explicitly keep opacity at 1 to prevent Safari composite bug */
  filter: brightness(0.4) grayscale(0.2);
  -webkit-filter: brightness(0.4) grayscale(0.2);
  /* Safari support */
  transform: translateZ(0);
  /* Force hardware acceleration in Safari to fix backdrop-filter bleed */
  -webkit-transform: translateZ(0);
  transition: all 0.3s ease;
}